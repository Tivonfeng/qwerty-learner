import{r as c,l as Ht,o as zt,U as jt,B as Cr,G as wr,I as Bt,m as Q,n as Ut,w as qt,y as Wt,T as Sr,p as br,$ as _,q as $r,s as Rr,v as xr,x as yr,C as Zt,z as Ar,A as Er,D as _r,E as ee,O as vt,M as fe,N as Ct,J as Pr,K as wt,P as Ir,Q as Mr,R as D,_ as P,a as h,d as ot,S as St,j as R,V as I,W as Xt,X as Kt,Y as Fr,Z as Tr,a0 as be,e as at,F as Yt,a1 as Qt,a2 as Jt,a3 as Vr,a4 as en,a5 as it,a6 as tn,a7 as Nr,a8 as Dr,a9 as kr,g as lt,h as nn,aa as Gr,ab as rn,ac as Or,ad as st,ae as Ie,af as on,ag as ce,ah as $e,ai as an,aj as ln,ak as q,al as Me,u as bt,am as Lr,an as $t,ao as Fe,ap as Hr,aq as ut,ar as zr,as as jr,at as Br,au as Ur,av as qr,aw as Wr,ax as sn,ay as Zr,az as Xr,f as Kr,L as Yr,t as Qr,aA as Jr,k as eo}from"./index-848fd70b.js";function to({container:e,accept:n,walk:t,enabled:r=!0}){let o=c.useRef(n),a=c.useRef(t);c.useEffect(()=>{o.current=n,a.current=t},[n,t]),Ht(()=>{if(!e||!r)return;let i=zt(e);if(!i)return;let l=o.current,s=a.current,d=Object.assign(g=>l(g),{acceptNode:l}),u=i.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;u.nextNode();)s(u.currentNode)},[e,r,o,a])}var no=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(no||{});let ro={0(e,n){let t=[...e.options,{id:n.id,element:n.element,propsRef:n.propsRef}];return{...e,options:Ir(t,r=>r.element.current)}},1(e,n){let t=e.options.slice(),r=e.options.findIndex(o=>o.id===n.id);return r===-1?e:(t.splice(r,1),{...e,options:t})}},ct=c.createContext(null);ct.displayName="RadioGroupDataContext";function un(e){let n=c.useContext(ct);if(n===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,un),t}return n}let dt=c.createContext(null);dt.displayName="RadioGroupActionsContext";function cn(e){let n=c.useContext(dt);if(n===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,cn),t}return n}function oo(e,n){return _r(n.type,ro,e,n)}let ao="div";function io(e,n){let t=Bt(),{id:r=`headlessui-radiogroup-${t}`,value:o,defaultValue:a,form:i,name:l,onChange:s,by:d=(E,G)=>E===G,disabled:u=!1,...g}=e,m=Q(typeof d=="string"?(E,G)=>{let N=d;return(E==null?void 0:E[N])===(G==null?void 0:G[N])}:d),[p,v]=c.useReducer(oo,{options:[]}),f=p.options,[w,C]=Ut(),[y,S]=qt(),x=c.useRef(null),A=Wt(x,n),[M,k]=Sr(o,s,a),F=c.useMemo(()=>f.find(E=>!E.propsRef.current.disabled),[f]),L=c.useMemo(()=>f.some(E=>m(E.propsRef.current.value,M)),[f,M]),H=Q(E=>{var G;if(u||m(E,M))return!1;let N=(G=f.find(Y=>m(Y.propsRef.current.value,E)))==null?void 0:G.propsRef.current;return N!=null&&N.disabled?!1:(k==null||k(E),!0)});to({container:x.current,accept(E){return E.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:E.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(E){E.setAttribute("role","none")}});let J=Q(E=>{let G=x.current;if(!G)return;let N=zt(G),Y=f.filter(V=>V.propsRef.current.disabled===!1).map(V=>V.element.current);switch(E.key){case ee.Enter:Pr(E.currentTarget);break;case ee.ArrowLeft:case ee.ArrowUp:if(E.preventDefault(),E.stopPropagation(),vt(Y,fe.Previous|fe.WrapAround)===Ct.Success){let V=f.find(ae=>ae.element.current===(N==null?void 0:N.activeElement));V&&H(V.propsRef.current.value)}break;case ee.ArrowRight:case ee.ArrowDown:if(E.preventDefault(),E.stopPropagation(),vt(Y,fe.Next|fe.WrapAround)===Ct.Success){let V=f.find(ae=>ae.element.current===(N==null?void 0:N.activeElement));V&&H(V.propsRef.current.value)}break;case ee.Space:{E.preventDefault(),E.stopPropagation();let V=f.find(ae=>ae.element.current===(N==null?void 0:N.activeElement));V&&H(V.propsRef.current.value)}break}}),W=Q(E=>(v({type:0,...E}),()=>v({type:1,id:E.id}))),de=c.useMemo(()=>({value:M,firstOption:F,containsCheckedOption:L,disabled:u,compare:m,...p}),[M,F,L,u,m,p]),pr=c.useMemo(()=>({registerOption:W,change:H}),[W,H]),hr={ref:A,id:r,role:"radiogroup","aria-labelledby":w,"aria-describedby":y,onKeyDown:J},mr=c.useMemo(()=>({value:M}),[M]),ge=c.useRef(null),vr=br();return c.useEffect(()=>{ge.current&&a!==void 0&&vr.addEventListener(ge.current,"reset",()=>{H(a)})},[ge,H]),_.createElement(S,{name:"RadioGroup.Description"},_.createElement(C,{name:"RadioGroup.Label"},_.createElement(dt.Provider,{value:pr},_.createElement(ct.Provider,{value:de},l!=null&&M!=null&&$r({[l]:M}).map(([E,G],N)=>_.createElement(Rr,{features:xr.Hidden,ref:N===0?Y=>{var V;ge.current=(V=Y==null?void 0:Y.closest("form"))!=null?V:null}:void 0,...yr({key:E,as:"input",type:"radio",checked:G!=null,hidden:!0,readOnly:!0,form:i,name:E,value:G})})),Zt({ourProps:hr,theirProps:g,slot:mr,defaultTag:ao,name:"RadioGroup"})))))}var lo=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(lo||{});let so="div";function uo(e,n){var t;let r=Bt(),{id:o=`headlessui-radiogroup-option-${r}`,value:a,disabled:i=!1,...l}=e,s=c.useRef(null),d=Wt(s,n),[u,g]=Ut(),[m,p]=qt(),{addFlag:v,removeFlag:f,hasFlag:w}=Ar(1),C=Er({value:a,disabled:i}),y=un("RadioGroup.Option"),S=cn("RadioGroup.Option");Ht(()=>S.registerOption({id:o,element:s,propsRef:C}),[o,S,s,C]);let x=Q(W=>{var de;if(wt(W.currentTarget))return W.preventDefault();S.change(a)&&(v(2),(de=s.current)==null||de.focus())}),A=Q(W=>{if(wt(W.currentTarget))return W.preventDefault();v(2)}),M=Q(()=>f(2)),k=((t=y.firstOption)==null?void 0:t.id)===o,F=y.disabled||i,L=y.compare(y.value,a),H={ref:d,id:o,role:"radio","aria-checked":L?"true":"false","aria-labelledby":u,"aria-describedby":m,"aria-disabled":F?!0:void 0,tabIndex:(()=>F?-1:L||!y.containsCheckedOption&&k?0:-1)(),onClick:F?void 0:x,onFocus:F?void 0:A,onBlur:F?void 0:M},J=c.useMemo(()=>({checked:L,disabled:F,active:w(2)}),[L,F,w]);return _.createElement(p,{name:"RadioGroup.Description"},_.createElement(g,{name:"RadioGroup.Label"},Zt({ourProps:H,theirProps:l,slot:J,defaultTag:so,name:"RadioGroup.Option"})))}let co=jt(io),go=jt(uo),_e=Object.assign(co,{Option:go,Label:Cr,Description:wr});const fo=c.forwardRef((e,n)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...o}=e;return r?Mr.createPortal(c.createElement(D.div,P({},o,{ref:n})),r):null});var po=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},te=new WeakMap,pe=new WeakMap,he={},Ne=0,dn=function(e){return e&&(e.host||dn(e.parentNode))},ho=function(e,n){return n.map(function(t){if(e.contains(t))return t;var r=dn(t);return r&&e.contains(r)?r:null}).filter(function(t){return!!t})},mo=function(e,n,t,r){var o=ho(n,Array.isArray(e)?e:[e]);he[t]||(he[t]=new WeakMap);var a=he[t],i=[],l=new Set,s=new Set(o),d=function(g){!g||l.has(g)||(l.add(g),d(g.parentNode))};o.forEach(d);var u=function(g){!g||s.has(g)||Array.prototype.forEach.call(g.children,function(m){if(l.has(m))u(m);else{var p=m.getAttribute(r),v=p!==null&&p!=="false",f=(te.get(m)||0)+1,w=(a.get(m)||0)+1;te.set(m,f),a.set(m,w),i.push(m),f===1&&v&&pe.set(m,!0),w===1&&m.setAttribute(t,"true"),v||m.setAttribute(r,"true")}})};return u(n),l.clear(),Ne++,function(){i.forEach(function(g){var m=te.get(g)-1,p=a.get(g)-1;te.set(g,m),a.set(g,p),m||(pe.has(g)||g.removeAttribute(r),pe.delete(g)),p||g.removeAttribute(t)}),Ne--,Ne||(te=new WeakMap,te=new WeakMap,pe=new WeakMap,he={})}},vo=function(e,n,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=n||po(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),mo(r,o,t,"aria-hidden")):function(){return null}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function Co({tagList:e,currentTag:n,onChangeCurrentTag:t}){const r=c.useCallback(o=>{t(o)},[t]);return h(_e,{value:n,onChange:r,children:h("div",{className:"flex items-center space-x-4",children:e.map(o=>h(_e.Option,{value:o,className:({checked:a})=>`cursor-pointer whitespace-nowrap rounded-[3rem] px-4 py-2 ${a?"bg-indigo-400 text-white":"bg-white text-gray-600 dark:bg-gray-800 dark:text-gray-200"} ${!a&&"hover:bg-indigo-100 dark:hover:bg-gray-600"}`,children:h("p",{className:"font-normal ",children:o})},o))})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function wo(e,n,t){const[r,o]=c.useState(null);return c.useEffect(()=>{t&&!r&&(async()=>{const i=await So(n,e);o(i)})()},[n,e,t]),r}async function So(e,n){const t=await ot.chapterRecords.where({dict:e,chapter:n}).toArray(),r=t.length,o=t.reduce((s,{wordNumber:d,correctWordIndexes:u})=>s+(d-u.length),0),a=r>0?St(o/r,2):0,i=t.reduce((s,{wrongCount:d})=>s+(d??0),0),l=r>0?St(i/r,2):0;return{exerciseCount:r,avgWrongWordCount:a,avgWrongInputCount:l}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function gn(e,{threshold:n=0,root:t=null,rootMargin:r="0%",freezeOnceVisible:o=!1}){const[a,i]=c.useState(),l=(a==null?void 0:a.isIntersecting)&&o,s=([d])=>{i(d)};return c.useEffect(()=>{const d=e==null?void 0:e.current;if(!!!window.IntersectionObserver||l||!d)return;const g={threshold:n,root:t,rootMargin:r},m=new IntersectionObserver(s,g);return m.observe(d),()=>m.disconnect()},[e==null?void 0:e.current,JSON.stringify(n),t,r,l]),a}const bo=e=>h("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:h("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75s-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12m13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094z",clipRule:"evenodd"})}),$o=bo;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function Ro({index:e,checked:n,dictID:t,onChange:r}){const o=c.useRef(null),a=gn(o,{}),i=!!(a!=null&&a.isIntersecting),l=wo(e,t,i);return c.useEffect(()=>{var s,d;if(n&&o.current!==null){const u=o.current,g=(d=(s=u.parentElement)==null?void 0:s.parentElement)==null?void 0:d.parentElement;g==null||g.scroll({top:u.offsetTop-g.offsetTop-300,behavior:"smooth"})}},[n]),R("div",{ref:o,className:"relative flex h-16 w-40 cursor-pointer  flex-col items-start justify-center overflow-hidden rounded-xl bg-slate-100 px-3 py-2 dark:bg-slate-800",onClick:()=>r(e),children:[R("h1",{children:["第 ",e+1," 章"]}),h("p",{className:"pt-[2px] text-xs text-slate-600",children:l?l.exerciseCount>0?`练习 ${l.exerciseCount} 次`:"未练习":"加载中..."}),n&&h($o,{className:"absolute -bottom-4 -right-4 h-18 w-18 text-6xl text-green-500 opacity-40 dark:text-green-300"})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const xo=Xt("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-indigo-500 shadow text-white hover:opacity-90  dark:text-opacity-80 focus:outline-none rounded-lg",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=c.forwardRef(({className:e,variant:n,size:t,asChild:r=!1,...o},a)=>h(r?Kt:"button",{className:I(xo({variant:n,size:t,className:e})),ref:a,...o}));se.displayName="Button";const Rt=e=>h("svg",{viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...e,children:h("path",{fill:"currentColor",d:"M119.39 172.94a8 8 0 0 1-1.73 8.72l-32 32a8 8 0 0 1-11.32 0l-32-32A8 8 0 0 1 48 168h24V48a8 8 0 0 1 16 0v120h24a8 8 0 0 1 7.39 4.94m94.27-98.6l-32-32a8 8 0 0 0-11.32 0l-32 32A8 8 0 0 0 144 88h24v120a8 8 0 0 0 16 0V88h24a8 8 0 0 0 5.66-13.66"})});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const xt=[{accessorKey:"word",size:100,header:({column:e})=>R(se,{variant:"ghost",className:"p-0",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["单词",h(Rt,{className:"ml-1.5 h-4 w-4"})]})},{accessorKey:"trans",size:500,header:"释义"},{accessorKey:"errorCount",size:40,header:({column:e})=>R(se,{variant:"ghost",className:"p-0",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["错误次数",h(Rt,{className:"ml-1.5 h-4 w-4"})]})},{accessorKey:"errorChar",header:"易错字母",size:80,cell:({row:e})=>h("p",{children:e.getValue("errorChar").map((n,t)=>h("kbd",{children:n+" "},`${n}-${t}`))})}];function yo(e){return e.map(n=>({word:n.word,trans:n.originData.trans.join("，")??"",errorCount:n.errorCount,errorChar:n.errorChar}))}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const fn=c.forwardRef(({className:e,...n},t)=>h("div",{className:"relative h-full w-full overflow-auto",children:h("table",{ref:t,className:I("w-full caption-bottom text-sm",e),...n})}));fn.displayName="Table";const pn=c.forwardRef(({className:e,...n},t)=>h("thead",{ref:t,className:I("[&_tr]:border-b",e),...n}));pn.displayName="TableHeader";const hn=c.forwardRef(({className:e,...n},t)=>h("tbody",{ref:t,className:I("[&_tr:last-child]:border-0",e),...n}));hn.displayName="TableBody";const Ao=c.forwardRef(({className:e,...n},t)=>h("tfoot",{ref:t,className:I("border-t bg-slate-100/50 font-medium dark:bg-slate-800/50 [&>tr]:last:border-b-0",e),...n}));Ao.displayName="TableFooter";const Re=c.forwardRef(({className:e,...n},t)=>h("tr",{ref:t,className:I("border-b transition-colors hover:bg-slate-100/50 data-[state=selected]:bg-slate-100 dark:hover:bg-slate-800/50 dark:data-[state=selected]:bg-slate-800",e),...n}));Re.displayName="TableRow";const mn=c.forwardRef(({className:e,...n},t)=>h("th",{ref:t,className:I("h-12 px-4 text-left align-middle font-medium text-slate-500 dark:text-slate-400 [&:has([role=checkbox])]:pr-0",e),...n}));mn.displayName="TableHead";const Xe=c.forwardRef(({className:e,...n},t)=>h("td",{ref:t,className:I("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...n}));Xe.displayName="TableCell";const Eo=c.forwardRef(({className:e,...n},t)=>h("caption",{ref:t,className:I("mt-4 text-sm text-slate-500 dark:text-slate-400",e),...n}));Eo.displayName="TableCaption";/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function X(e,n){return typeof e=="function"?e(n):e}function O(e,n){return t=>{n.setState(r=>({...r,[e]:X(t,r[e])}))}}function Pe(e){return e instanceof Function}function _o(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Po(e,n){const t=[],r=o=>{o.forEach(a=>{t.push(a);const i=n(a);i!=null&&i.length&&r(i)})};return r(e),t}function b(e,n,t){let r=[],o;return a=>{let i;t.key&&t.debug&&(i=Date.now());const l=e(a);if(!(l.length!==r.length||l.some((u,g)=>r[g]!==u)))return o;r=l;let d;if(t.key&&t.debug&&(d=Date.now()),o=n(...l),t==null||t.onChange==null||t.onChange(o),t.key&&t.debug&&t!=null&&t.debug()){const u=Math.round((Date.now()-i)*100)/100,m=Math.round((Date.now()-d)*100)/100/16,p=(v,f)=>{for(v=String(v);v.length<f;)v=" "+v;return v}}return o}}function $(e,n,t,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[n]},key:!1,onChange:r}}function Io(e,n,t,r){var o,a;const l={...e._getDefaultColumnDef(),...n},s=l.accessorKey;let d=(o=(a=l.id)!=null?a:s?s.replace(".","_"):void 0)!=null?o:typeof l.header=="string"?l.header:void 0,u;if(l.accessorFn?u=l.accessorFn:s&&(s.includes(".")?u=m=>{let p=m;for(const f of s.split(".")){var v;p=(v=p)==null?void 0:v[f]}return p}:u=m=>m[l.accessorKey]),!d)throw new Error;let g={id:`${String(d)}`,accessorFn:u,parent:r,depth:t,columnDef:l,columns:[],getFlatColumns:b(()=>[!0],()=>{var m;return[g,...(m=g.columns)==null?void 0:m.flatMap(p=>p.getFlatColumns())]},$(e.options,"debugColumns")),getLeafColumns:b(()=>[e._getOrderColumnsFn()],m=>{var p;if((p=g.columns)!=null&&p.length){let v=g.columns.flatMap(f=>f.getLeafColumns());return m(v)}return[g]},$(e.options,"debugColumns"))};for(const m of e._features)m.createColumn==null||m.createColumn(g,e);return g}const T="debugHeaders";function yt(e,n,t){var r;let a={id:(r=t.id)!=null?r:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],l=s=>{s.subHeaders&&s.subHeaders.length&&s.subHeaders.map(l),i.push(s)};return l(a),i},getContext:()=>({table:e,header:a,column:n})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(a,e)}),a}const Mo={createTable:e=>{e.getHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r,o)=>{var a,i;const l=(a=r==null?void 0:r.map(g=>t.find(m=>m.id===g)).filter(Boolean))!=null?a:[],s=(i=o==null?void 0:o.map(g=>t.find(m=>m.id===g)).filter(Boolean))!=null?i:[],d=t.filter(g=>!(r!=null&&r.includes(g.id))&&!(o!=null&&o.includes(g.id)));return me(n,[...l,...d,...s],e)},$(e.options,T)),e.getCenterHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r,o)=>(t=t.filter(a=>!(r!=null&&r.includes(a.id))&&!(o!=null&&o.includes(a.id))),me(n,t,e,"center")),$(e.options,T)),e.getLeftHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,r)=>{var o;const a=(o=r==null?void 0:r.map(i=>t.find(l=>l.id===i)).filter(Boolean))!=null?o:[];return me(n,a,e,"left")},$(e.options,T)),e.getRightHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,r)=>{var o;const a=(o=r==null?void 0:r.map(i=>t.find(l=>l.id===i)).filter(Boolean))!=null?o:[];return me(n,a,e,"right")},$(e.options,T)),e.getFooterGroups=b(()=>[e.getHeaderGroups()],n=>[...n].reverse(),$(e.options,T)),e.getLeftFooterGroups=b(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),$(e.options,T)),e.getCenterFooterGroups=b(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),$(e.options,T)),e.getRightFooterGroups=b(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),$(e.options,T)),e.getFlatHeaders=b(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),$(e.options,T)),e.getLeftFlatHeaders=b(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),$(e.options,T)),e.getCenterFlatHeaders=b(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),$(e.options,T)),e.getRightFlatHeaders=b(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),$(e.options,T)),e.getCenterLeafHeaders=b(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),$(e.options,T)),e.getLeftLeafHeaders=b(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),$(e.options,T)),e.getRightLeafHeaders=b(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),$(e.options,T)),e.getLeafHeaders=b(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,r)=>{var o,a,i,l,s,d;return[...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(i=(l=t[0])==null?void 0:l.headers)!=null?i:[],...(s=(d=r[0])==null?void 0:d.headers)!=null?s:[]].map(u=>u.getLeafHeaders()).flat()},$(e.options,T))}};function me(e,n,t,r){var o,a;let i=0;const l=function(m,p){p===void 0&&(p=1),i=Math.max(i,p),m.filter(v=>v.getIsVisible()).forEach(v=>{var f;(f=v.columns)!=null&&f.length&&l(v.columns,p+1)},0)};l(e);let s=[];const d=(m,p)=>{const v={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},f=[];m.forEach(w=>{const C=[...f].reverse()[0],y=w.column.depth===v.depth;let S,x=!1;if(y&&w.column.parent?S=w.column.parent:(S=w.column,x=!0),C&&(C==null?void 0:C.column)===S)C.subHeaders.push(w);else{const A=yt(t,S,{id:[r,p,S.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:x,placeholderId:x?`${f.filter(M=>M.column===S).length}`:void 0,depth:p,index:f.length});A.subHeaders.push(w),f.push(A)}v.headers.push(w),w.headerGroup=v}),s.push(v),p>0&&d(f,p-1)},u=n.map((m,p)=>yt(t,m,{depth:i,index:p}));d(u,i-1),s.reverse();const g=m=>m.filter(v=>v.column.getIsVisible()).map(v=>{let f=0,w=0,C=[0];v.subHeaders&&v.subHeaders.length?(C=[],g(v.subHeaders).forEach(S=>{let{colSpan:x,rowSpan:A}=S;f+=x,C.push(A)})):f=1;const y=Math.min(...C);return w=w+y,v.colSpan=f,v.rowSpan=w,{colSpan:f,rowSpan:w}});return g((o=(a=s[0])==null?void 0:a.headers)!=null?o:[]),s}const ve={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},De=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Fo={getDefaultColumnDef:()=>ve,getInitialState:e=>({columnSizing:{},columnSizingInfo:De(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:O("columnSizing",e),onColumnSizingInfoChange:O("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,r,o;const a=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:ve.minSize,(r=a??e.columnDef.size)!=null?r:ve.size),(o=e.columnDef.maxSize)!=null?o:ve.maxSize)},e.getStart=b(t=>[t,le(n,t),n.getState().columnSizing],(t,r)=>r.slice(0,e.getIndex(t)).reduce((o,a)=>o+a.getSize(),0),$(n.options,"debugColumns")),e.getAfter=b(t=>[t,le(n,t),n.getState().columnSizing],(t,r)=>r.slice(e.getIndex(t)+1).reduce((o,a)=>o+a.getSize(),0),$(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:r,...o}=t;return o})},e.getCanResize=()=>{var t,r;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((r=n.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var a;t+=(a=o.column.getSize())!=null?a:0}};return r(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const r=n.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return a=>{if(!r||!o||(a.persist==null||a.persist(),ke(a)&&a.touches&&a.touches.length>1))return;const i=e.getSize(),l=e?e.getLeafHeaders().map(C=>[C.column.id,C.column.getSize()]):[[r.id,r.getSize()]],s=ke(a)?Math.round(a.touches[0].clientX):a.clientX,d={},u=(C,y)=>{typeof y=="number"&&(n.setColumnSizingInfo(S=>{var x,A;const M=n.options.columnResizeDirection==="rtl"?-1:1,k=(y-((x=S==null?void 0:S.startOffset)!=null?x:0))*M,F=Math.max(k/((A=S==null?void 0:S.startSize)!=null?A:0),-.999999);return S.columnSizingStart.forEach(L=>{let[H,J]=L;d[H]=Math.round(Math.max(J+J*F,0)*100)/100}),{...S,deltaOffset:k,deltaPercentage:F}}),(n.options.columnResizeMode==="onChange"||C==="end")&&n.setColumnSizing(S=>({...S,...d})))},g=C=>u("move",C),m=C=>{u("end",C),n.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=t||typeof document<"u"?document:null,v={moveHandler:C=>g(C.clientX),upHandler:C=>{p==null||p.removeEventListener("mousemove",v.moveHandler),p==null||p.removeEventListener("mouseup",v.upHandler),m(C.clientX)}},f={moveHandler:C=>(C.cancelable&&(C.preventDefault(),C.stopPropagation()),g(C.touches[0].clientX),!1),upHandler:C=>{var y;p==null||p.removeEventListener("touchmove",f.moveHandler),p==null||p.removeEventListener("touchend",f.upHandler),C.cancelable&&(C.preventDefault(),C.stopPropagation()),m((y=C.touches[0])==null?void 0:y.clientX)}},w=To()?{passive:!1}:!1;ke(a)?(p==null||p.addEventListener("touchmove",f.moveHandler,w),p==null||p.addEventListener("touchend",f.upHandler,w)):(p==null||p.addEventListener("mousemove",v.moveHandler,w),p==null||p.addEventListener("mouseup",v.upHandler,w)),n.setColumnSizingInfo(C=>({...C,startOffset:s,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?De():(t=e.initialState.columnSizingInfo)!=null?t:De())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((r,o)=>r+o.getSize(),0))!=null?n:0}}};let Ce=null;function To(){if(typeof Ce=="boolean")return Ce;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return Ce=e,Ce}function ke(e){return e.type==="touchstart"}const Vo={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:O("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var r,o;if(!n){e._queue(()=>{n=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,a;e.setExpanded(r?{}:(o=(a=e.initialState)==null?void 0:a.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(a=>{const i=a.split(".");r=Math.max(r,i.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(r=>{var o;const a=r===!0?!0:!!(r!=null&&r[e.id]);let i={};if(r===!0?Object.keys(n.getRowModel().rowsById).forEach(l=>{i[l]=!0}):i=r,t=(o=t)!=null?o:!a,!a&&t)return{...i,[e.id]:!0};if(a&&!t){const{[e.id]:l,...s}=i;return s}return r})},e.getIsExpanded=()=>{var t;const r=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var t,r,o;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((r=n.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let t=!0,r=e;for(;t&&r.parentId;)r=n.getRow(r.parentId,!0),t=r.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},vn=(e,n,t)=>{var r;const o=t.toLowerCase();return!!(!((r=e.getValue(n))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(o))};vn.autoRemove=e=>z(e);const Cn=(e,n,t)=>{var r;return!!(!((r=e.getValue(n))==null||(r=r.toString())==null)&&r.includes(t))};Cn.autoRemove=e=>z(e);const wn=(e,n,t)=>{var r;return((r=e.getValue(n))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(t==null?void 0:t.toLowerCase())};wn.autoRemove=e=>z(e);const Sn=(e,n,t)=>{var r;return(r=e.getValue(n))==null?void 0:r.includes(t)};Sn.autoRemove=e=>z(e)||!(e!=null&&e.length);const bn=(e,n,t)=>!t.some(r=>{var o;return!((o=e.getValue(n))!=null&&o.includes(r))});bn.autoRemove=e=>z(e)||!(e!=null&&e.length);const $n=(e,n,t)=>t.some(r=>{var o;return(o=e.getValue(n))==null?void 0:o.includes(r)});$n.autoRemove=e=>z(e)||!(e!=null&&e.length);const Rn=(e,n,t)=>e.getValue(n)===t;Rn.autoRemove=e=>z(e);const xn=(e,n,t)=>e.getValue(n)==t;xn.autoRemove=e=>z(e);const gt=(e,n,t)=>{let[r,o]=t;const a=e.getValue(n);return a>=r&&a<=o};gt.resolveFilterValue=e=>{let[n,t]=e,r=typeof n!="number"?parseFloat(n):n,o=typeof t!="number"?parseFloat(t):t,a=n===null||Number.isNaN(r)?-1/0:r,i=t===null||Number.isNaN(o)?1/0:o;if(a>i){const l=a;a=i,i=l}return[a,i]};gt.autoRemove=e=>z(e)||z(e[0])&&z(e[1]);const U={includesString:vn,includesStringSensitive:Cn,equalsString:wn,arrIncludes:Sn,arrIncludesAll:bn,arrIncludesSome:$n,equals:Rn,weakEquals:xn,inNumberRange:gt};function z(e){return e==null||e===""}const No={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:O("columnFilters",e),onGlobalFilterChange:O("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const r=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);return typeof r=="string"?U.includesString:typeof r=="number"?U.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?U.equals:Array.isArray(r)?U.arrIncludes:U.weakEquals},e.getFilterFn=()=>{var t,r;return Pe(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(r=n.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?t:U[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,r,o;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((r=n.options.enableColumnFilters)!=null?r:!0)&&((o=n.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var t,r,o,a;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((r=n.options.enableGlobalFilter)!=null?r:!0)&&((o=n.options.enableFilters)!=null?o:!0)&&((a=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(r=>r.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,r;return(t=(r=n.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(r=>{const o=e.getFilterFn(),a=r==null?void 0:r.find(u=>u.id===e.id),i=X(t,a?a.value:void 0);if(At(o,i,e)){var l;return(l=r==null?void 0:r.filter(u=>u.id!==e.id))!=null?l:[]}const s={id:e.id,value:i};if(a){var d;return(d=r==null?void 0:r.map(u=>u.id===e.id?s:u))!=null?d:[]}return r!=null&&r.length?[...r,s]:[s]})},e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>U.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:r}=e.options;return Pe(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[r])!=null?n:U[r]},e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),r=o=>{var a;return(a=X(n,o))==null?void 0:a.filter(i=>{const l=t.find(s=>s.id===i.id);if(l){const s=l.getFilterFn();if(At(s,i.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)},e.resetColumnFilters=n=>{var t,r;e.setColumnFilters(n?[]:(t=(r=e.initialState)==null?void 0:r.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function At(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Do=(e,n,t)=>t.reduce((r,o)=>{const a=o.getValue(e);return r+(typeof a=="number"?a:0)},0),ko=(e,n,t)=>{let r;return t.forEach(o=>{const a=o.getValue(e);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},Go=(e,n,t)=>{let r;return t.forEach(o=>{const a=o.getValue(e);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},Oo=(e,n,t)=>{let r,o;return t.forEach(a=>{const i=a.getValue(e);i!=null&&(r===void 0?i>=i&&(r=o=i):(r>i&&(r=i),o<i&&(o=i)))}),[r,o]},Lo=(e,n)=>{let t=0,r=0;if(n.forEach(o=>{let a=o.getValue(e);a!=null&&(a=+a)>=a&&(++t,r+=a)}),t)return r/t},Ho=(e,n)=>{if(!n.length)return;const t=n.map(a=>a.getValue(e));if(!_o(t))return;if(t.length===1)return t[0];const r=Math.floor(t.length/2),o=t.sort((a,i)=>a-i);return t.length%2!==0?o[r]:(o[r-1]+o[r])/2},zo=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),jo=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,Bo=(e,n)=>n.length,Ge={sum:Do,min:ko,max:Go,extent:Oo,mean:Lo,median:Ho,unique:zo,uniqueCount:jo,count:Bo},Uo={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:O("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(r=>r!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,r,o,a;return(t=(r=(o=(a=e.columnDef.enableGrouping)!=null?a:!0)!=null?o:n.options.enableGrouping)!=null?r:!0)!=null?t:!!e.accessorFn},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);if(typeof r=="number")return Ge.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Ge.extent},e.getAggregationFn=()=>{var t,r;if(!e)throw new Error;return Pe(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(r=n.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?t:Ge[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,r;e.setGrouping(n?[]:(t=(r=e.initialState)==null?void 0:r.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const r=n.getColumn(t);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[t]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,r)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=t.subRows)!=null&&o.length)}}};function qo(e,n,t){if(!(n!=null&&n.length)||!t)return e;const r=e.filter(a=>!n.includes(a.id));return t==="remove"?r:[...n.map(a=>e.find(i=>i.id===a)).filter(Boolean),...r]}const Wo={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:O("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=b(t=>[le(n,t)],t=>t.findIndex(r=>r.id===e.id),$(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var r;return((r=le(n,t)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=t=>{var r;const o=le(n,t);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=b(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,r)=>o=>{let a=[];if(!(n!=null&&n.length))a=o;else{const i=[...n],l=[...o];for(;l.length&&i.length;){const s=i.shift(),d=l.findIndex(u=>u.id===s);d>-1&&a.push(l.splice(d,1)[0])}a=[...a,...l]}return qo(a,t,r)},$(e.options,"debugTable"))}},Ke=0,Ye=10,Oe=()=>({pageIndex:Ke,pageSize:Ye}),Zo={getInitialState:e=>({...e,pagination:{...Oe(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:O("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var r,o;if(!n){e._queue(()=>{n=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=r=>{const o=a=>X(r,a);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Oe():(o=e.initialState.pagination)!=null?o:Oe())},e.setPageIndex=r=>{e.setPagination(o=>{let a=X(r,o.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,i)),{...o,pageIndex:a}})},e.resetPageIndex=r=>{var o,a;e.setPageIndex(r?Ke:(o=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?o:Ke)},e.resetPageSize=r=>{var o,a;e.setPageSize(r?Ye:(o=(a=e.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?o:Ye)},e.setPageSize=r=>{e.setPagination(o=>{const a=Math.max(1,X(r,o.pageSize)),i=o.pageSize*o.pageIndex,l=Math.floor(i/a);return{...o,pageIndex:l,pageSize:a}})},e.setPageCount=r=>e.setPagination(o=>{var a;let i=X(r,(a=e.options.pageCount)!=null?a:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...o,pageCount:i}}),e.getPageOptions=b(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((a,i)=>i)),o},$(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Le=()=>({left:[],right:[]}),He=()=>({top:[],bottom:[]}),Xo={getInitialState:e=>({columnPinning:Le(),rowPinning:He(),...e}),getDefaultOptions:e=>({onColumnPinningChange:O("columnPinning",e),onRowPinningChange:O("rowPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);n.setColumnPinning(o=>{var a,i;if(t==="right"){var l,s;return{left:((l=o==null?void 0:o.left)!=null?l:[]).filter(g=>!(r!=null&&r.includes(g))),right:[...((s=o==null?void 0:o.right)!=null?s:[]).filter(g=>!(r!=null&&r.includes(g))),...r]}}if(t==="left"){var d,u;return{left:[...((d=o==null?void 0:o.left)!=null?d:[]).filter(g=>!(r!=null&&r.includes(g))),...r],right:((u=o==null?void 0:o.right)!=null?u:[]).filter(g=>!(r!=null&&r.includes(g)))}}return{left:((a=o==null?void 0:o.left)!=null?a:[]).filter(g=>!(r!=null&&r.includes(g))),right:((i=o==null?void 0:o.right)!=null?i:[]).filter(g=>!(r!=null&&r.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,a,i;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((a=(i=n.options.enableColumnPinning)!=null?i:n.options.enablePinning)!=null?a:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(l=>l.id),{left:r,right:o}=n.getState().columnPinning,a=t.some(l=>r==null?void 0:r.includes(l)),i=t.some(l=>o==null?void 0:o.includes(l));return a?"left":i?"right":!1},e.getPinnedIndex=()=>{var t,r;const o=e.getIsPinned();return o?(t=(r=n.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.pin=(t,r,o)=>{const a=r?e.getLeafRows().map(s=>{let{id:d}=s;return d}):[],i=o?e.getParentRows().map(s=>{let{id:d}=s;return d}):[],l=new Set([...i,e.id,...a]);n.setRowPinning(s=>{var d,u;if(t==="bottom"){var g,m;return{top:((g=s==null?void 0:s.top)!=null?g:[]).filter(f=>!(l!=null&&l.has(f))),bottom:[...((m=s==null?void 0:s.bottom)!=null?m:[]).filter(f=>!(l!=null&&l.has(f))),...Array.from(l)]}}if(t==="top"){var p,v;return{top:[...((p=s==null?void 0:s.top)!=null?p:[]).filter(f=>!(l!=null&&l.has(f))),...Array.from(l)],bottom:((v=s==null?void 0:s.bottom)!=null?v:[]).filter(f=>!(l!=null&&l.has(f)))}}return{top:((d=s==null?void 0:s.top)!=null?d:[]).filter(f=>!(l!=null&&l.has(f))),bottom:((u=s==null?void 0:s.bottom)!=null?u:[]).filter(f=>!(l!=null&&l.has(f)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:r,enablePinning:o}=n.options;return typeof r=="function"?r(e):(t=r??o)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:r,bottom:o}=n.getState().rowPinning,a=t.some(l=>r==null?void 0:r.includes(l)),i=t.some(l=>o==null?void 0:o.includes(l));return a?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var t,r;const o=e.getIsPinned();if(!o)return-1;const a=(t=n._getPinnedRows(o))==null?void 0:t.map(i=>{let{id:l}=i;return l});return(r=a==null?void 0:a.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=b(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,r,o)=>{const a=[...r??[],...o??[]];return t.filter(i=>!a.includes(i.column.id))},$(n.options,"debugRows")),e.getLeftVisibleCells=b(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,r)=>(r??[]).map(a=>t.find(i=>i.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),$(n.options,"debugRows")),e.getRightVisibleCells=b(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,r)=>(r??[]).map(a=>t.find(i=>i.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),$(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,r;return e.setColumnPinning(n?Le():(t=(r=e.initialState)==null?void 0:r.columnPinning)!=null?t:Le())},e.getIsSomeColumnsPinned=n=>{var t;const r=e.getState().columnPinning;if(!n){var o,a;return!!((o=r.left)!=null&&o.length||(a=r.right)!=null&&a.length)}return!!((t=r[n])!=null&&t.length)},e.getLeftLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(r=>n.find(o=>o.id===r)).filter(Boolean),$(e.options,"debugColumns")),e.getRightLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(r=>n.find(o=>o.id===r)).filter(Boolean),$(e.options,"debugColumns")),e.getCenterLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r)=>{const o=[...t??[],...r??[]];return n.filter(a=>!o.includes(a.id))},$(e.options,"debugColumns")),e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,r;return e.setRowPinning(n?He():(t=(r=e.initialState)==null?void 0:r.rowPinning)!=null?t:He())},e.getIsSomeRowsPinned=n=>{var t;const r=e.getState().rowPinning;if(!n){var o,a;return!!((o=r.top)!=null&&o.length||(a=r.bottom)!=null&&a.length)}return!!((t=r[n])!=null&&t.length)},e._getPinnedRows=b(n=>[e.getRowModel().rows,e.getState().rowPinning[n],n],(n,t,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(t??[]).map(i=>{const l=e.getRow(i,!0);return l.getIsAllParentsExpanded()?l:null}):(t??[]).map(i=>n.find(l=>l.id===i))).filter(Boolean).map(i=>({...i,position:r}))},$(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=b(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,r)=>{const o=new Set([...t??[],...r??[]]);return n.filter(a=>!o.has(a.id))},$(e.options,"debugRows"))}},Ko={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:O("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const r={...t},o=e.getPreGroupedRowModel().flatRows;return n?o.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):o.forEach(a=>{delete r[a.id]}),r})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const r=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),o={...t};return e.getRowModel().rows.forEach(a=>{Qe(o,a.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=b(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?ze(e,t):{rows:[],flatRows:[],rowsById:{}},$(e.options,"debugTable")),e.getFilteredSelectedRowModel=b(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?ze(e,t):{rows:[],flatRows:[],rowsById:{}},$(e.options,"debugTable")),e.getGroupedSelectedRowModel=b(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?ze(e,t):{rows:[],flatRows:[],rowsById:{}},$(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let r=!!(n.length&&Object.keys(t).length);return r&&n.some(o=>o.getCanSelect()&&!t[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:t}=e.getState();let r=!!n.length;return r&&n.some(o=>!t[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,r)=>{const o=e.getIsSelected();n.setRowSelection(a=>{var i;if(t=typeof t<"u"?t:!o,e.getCanSelect()&&o===t)return a;const l={...a};return Qe(l,e.id,t,(i=r==null?void 0:r.selectChildren)!=null?i:!0,n),l})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return ft(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return Je(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return Je(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return r=>{var o;t&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Qe=(e,n,t,r,o)=>{var a;const i=o.getRow(n,!0);t?(i.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),i.getCanSelect()&&(e[n]=!0)):delete e[n],r&&(a=i.subRows)!=null&&a.length&&i.getCanSelectSubRows()&&i.subRows.forEach(l=>Qe(e,l.id,t,r,o))};function ze(e,n){const t=e.getState().rowSelection,r=[],o={},a=function(i,l){return i.map(s=>{var d;const u=ft(s,t);if(u&&(r.push(s),o[s.id]=s),(d=s.subRows)!=null&&d.length&&(s={...s,subRows:a(s.subRows)}),u)return s}).filter(Boolean)};return{rows:a(n.rows),flatRows:r,rowsById:o}}function ft(e,n){var t;return(t=n[e.id])!=null?t:!1}function Je(e,n,t){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,a=!1;return e.subRows.forEach(i=>{if(!(a&&!o)&&(i.getCanSelect()&&(ft(i,n)?a=!0:o=!1),i.subRows&&i.subRows.length)){const l=Je(i,n);l==="all"?a=!0:(l==="some"&&(a=!0),o=!1)}}),o?"all":a?"some":!1}const et=/([0-9]+)/gm,Yo=(e,n,t)=>yn(K(e.getValue(t)).toLowerCase(),K(n.getValue(t)).toLowerCase()),Qo=(e,n,t)=>yn(K(e.getValue(t)),K(n.getValue(t))),Jo=(e,n,t)=>pt(K(e.getValue(t)).toLowerCase(),K(n.getValue(t)).toLowerCase()),ea=(e,n,t)=>pt(K(e.getValue(t)),K(n.getValue(t))),ta=(e,n,t)=>{const r=e.getValue(t),o=n.getValue(t);return r>o?1:r<o?-1:0},na=(e,n,t)=>pt(e.getValue(t),n.getValue(t));function pt(e,n){return e===n?0:e>n?1:-1}function K(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function yn(e,n){const t=e.split(et).filter(Boolean),r=n.split(et).filter(Boolean);for(;t.length&&r.length;){const o=t.shift(),a=r.shift(),i=parseInt(o,10),l=parseInt(a,10),s=[i,l].sort();if(isNaN(s[0])){if(o>a)return 1;if(a>o)return-1;continue}if(isNaN(s[1]))return isNaN(i)?-1:1;if(i>l)return 1;if(l>i)return-1}return t.length-r.length}const ie={alphanumeric:Yo,alphanumericCaseSensitive:Qo,text:Jo,textCaseSensitive:ea,datetime:ta,basic:na},ra={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:O("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of t){const a=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(a)==="[object Date]")return ie.datetime;if(typeof a=="string"&&(r=!0,a.split(et).length>1))return ie.alphanumeric}return r?ie.text:ie.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,r;if(!e)throw new Error;return Pe(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(r=n.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?t:ie[e.columnDef.sortingFn]},e.toggleSorting=(t,r)=>{const o=e.getNextSortingOrder(),a=typeof t<"u"&&t!==null;n.setSorting(i=>{const l=i==null?void 0:i.find(p=>p.id===e.id),s=i==null?void 0:i.findIndex(p=>p.id===e.id);let d=[],u,g=a?t:o==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&r?l?u="toggle":u="add":i!=null&&i.length&&s!==i.length-1?u="replace":l?u="toggle":u="replace",u==="toggle"&&(a||o||(u="remove")),u==="add"){var m;d=[...i,{id:e.id,desc:g}],d.splice(0,d.length-((m=n.options.maxMultiSortColCount)!=null?m:Number.MAX_SAFE_INTEGER))}else u==="toggle"?d=i.map(p=>p.id===e.id?{...p,desc:g}:p):u==="remove"?d=i.filter(p=>p.id!==e.id):d=[{id:e.id,desc:g}];return d})},e.getFirstSortDir=()=>{var t,r;return((t=(r=e.columnDef.sortDescFirst)!=null?r:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var r,o;const a=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==a&&((r=n.options.enableSortingRemoval)==null||r)&&(!(t&&(o=n.options.enableMultiRemove)!=null)||o)?!1:i==="desc"?"asc":"desc":a},e.getCanSort=()=>{var t,r;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((r=n.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,r;return(t=(r=e.columnDef.enableMultiSort)!=null?r:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const r=(t=n.getState().sorting)==null?void 0:t.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,r;return(t=(r=n.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return r=>{t&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,r;e.setSorting(n?[]:(t=(r=e.initialState)==null?void 0:r.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},oa={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:O("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(r=>({...r,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,r;const o=e.columns;return(t=o.length?o.some(a=>a.getIsVisible()):(r=n.getState().columnVisibility)==null?void 0:r[e.id])!=null?t:!0},e.getCanHide=()=>{var t,r;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((r=n.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=b(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(r=>r.column.getIsVisible()),$(n.options,"debugRows")),e.getVisibleCells=b(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,r,o)=>[...t,...r,...o],$(n.options,"debugRows"))},createTable:e=>{const n=(t,r)=>b(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),$(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var r;e.setColumnVisibility(t?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=t=>{var r;t=(r=t)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,a)=>({...o,[a.id]:t||!(a.getCanHide!=null&&a.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var r;e.toggleAllColumnsVisible((r=t.target)==null?void 0:r.checked)}}};function le(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Et=[Mo,oa,Wo,Xo,No,ra,Uo,Vo,Zo,Ko,Fo];function aa(e){var n;e.debugAll||e.debugTable;let t={_features:Et};const r=t._features.reduce((u,g)=>Object.assign(u,g.getDefaultOptions==null?void 0:g.getDefaultOptions(t)),{}),o=u=>t.options.mergeOptions?t.options.mergeOptions(r,u):{...r,...u};let i={...{},...(n=e.initialState)!=null?n:{}};t._features.forEach(u=>{var g;i=(g=u.getInitialState==null?void 0:u.getInitialState(i))!=null?g:i});const l=[];let s=!1;const d={_features:Et,options:{...r,...e},initialState:i,_queue:u=>{l.push(u),s||(s=!0,Promise.resolve().then(()=>{for(;l.length;)l.shift()();s=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{t.setState(t.initialState)},setOptions:u=>{const g=X(u,t.options);t.options=o(g)},getState:()=>t.options.state,setState:u=>{t.options.onStateChange==null||t.options.onStateChange(u)},_getRowId:(u,g,m)=>{var p;return(p=t.options.getRowId==null?void 0:t.options.getRowId(u,g,m))!=null?p:`${m?[m.id,g].join("."):g}`},getCoreRowModel:()=>(t._getCoreRowModel||(t._getCoreRowModel=t.options.getCoreRowModel(t)),t._getCoreRowModel()),getRowModel:()=>t.getPaginationRowModel(),getRow:(u,g)=>{let m=(g?t.getPrePaginationRowModel():t.getRowModel()).rowsById[u];if(!m&&(m=t.getCoreRowModel().rowsById[u],!m))throw new Error;return m},_getDefaultColumnDef:b(()=>[t.options.defaultColumn],u=>{var g;return u=(g=u)!=null?g:{},{header:m=>{const p=m.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:m=>{var p,v;return(p=(v=m.renderValue())==null||v.toString==null?void 0:v.toString())!=null?p:null},...t._features.reduce((m,p)=>Object.assign(m,p.getDefaultColumnDef==null?void 0:p.getDefaultColumnDef()),{}),...u}},$(e,"debugColumns")),_getColumnDefs:()=>t.options.columns,getAllColumns:b(()=>[t._getColumnDefs()],u=>{const g=function(m,p,v){return v===void 0&&(v=0),m.map(f=>{const w=Io(t,f,v,p),C=f;return w.columns=C.columns?g(C.columns,w,v+1):[],w})};return g(u)},$(e,"debugColumns")),getAllFlatColumns:b(()=>[t.getAllColumns()],u=>u.flatMap(g=>g.getFlatColumns()),$(e,"debugColumns")),_getAllFlatColumnsById:b(()=>[t.getAllFlatColumns()],u=>u.reduce((g,m)=>(g[m.id]=m,g),{}),$(e,"debugColumns")),getAllLeafColumns:b(()=>[t.getAllColumns(),t._getOrderColumnsFn()],(u,g)=>{let m=u.flatMap(p=>p.getLeafColumns());return g(m)},$(e,"debugColumns")),getColumn:u=>t._getAllFlatColumnsById()[u]};Object.assign(t,d);for(let u=0;u<t._features.length;u++){const g=t._features[u];g==null||g.createTable==null||g.createTable(t)}return t}function ia(e,n,t,r){const o=()=>{var i;return(i=a.getValue())!=null?i:e.options.renderFallbackValue},a={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(r),renderValue:o,getContext:b(()=>[e,t,n,a],(i,l,s,d)=>({table:i,column:l,row:s,cell:d,getValue:d.getValue,renderValue:d.renderValue}),$(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(a,t,n,e)},{}),a}const la=(e,n,t,r,o,a,i)=>{let l={id:n,index:r,original:t,depth:o,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:s=>{if(l._valuesCache.hasOwnProperty(s))return l._valuesCache[s];const d=e.getColumn(s);if(d!=null&&d.accessorFn)return l._valuesCache[s]=d.accessorFn(l.original,r),l._valuesCache[s]},getUniqueValues:s=>{if(l._uniqueValuesCache.hasOwnProperty(s))return l._uniqueValuesCache[s];const d=e.getColumn(s);if(d!=null&&d.accessorFn)return d.columnDef.getUniqueValues?(l._uniqueValuesCache[s]=d.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[s]):(l._uniqueValuesCache[s]=[l.getValue(s)],l._uniqueValuesCache[s])},renderValue:s=>{var d;return(d=l.getValue(s))!=null?d:e.options.renderFallbackValue},subRows:a??[],getLeafRows:()=>Po(l.subRows,s=>s.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let s=[],d=l;for(;;){const u=d.getParentRow();if(!u)break;s.push(u),d=u}return s.reverse()},getAllCells:b(()=>[e.getAllLeafColumns()],s=>s.map(d=>ia(e,l,d,d.id)),$(e.options,"debugRows")),_getAllCellsByColumnId:b(()=>[l.getAllCells()],s=>s.reduce((d,u)=>(d[u.column.id]=u,d),{}),$(e.options,"debugRows"))};for(let s=0;s<e._features.length;s++){const d=e._features[s];d==null||d.createRow==null||d.createRow(l,e)}return l};function sa(){return e=>b(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},r=function(o,a,i){a===void 0&&(a=0);const l=[];for(let d=0;d<o.length;d++){const u=la(e,e._getRowId(o[d],d,i),o[d],d,a,void 0,i==null?void 0:i.id);if(t.flatRows.push(u),t.rowsById[u.id]=u,l.push(u),e.options.getSubRows){var s;u.originalSubRows=e.options.getSubRows(o[d],d),(s=u.originalSubRows)!=null&&s.length&&(u.subRows=r(u.originalSubRows,a+1,u))}}return l};return t.rows=r(n),t},$(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ua(){return e=>b(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const r=e.getState().sorting,o=[],a=r.filter(s=>{var d;return(d=e.getColumn(s.id))==null?void 0:d.getCanSort()}),i={};a.forEach(s=>{const d=e.getColumn(s.id);d&&(i[s.id]={sortUndefined:d.columnDef.sortUndefined,invertSorting:d.columnDef.invertSorting,sortingFn:d.getSortingFn()})});const l=s=>{const d=s.map(u=>({...u}));return d.sort((u,g)=>{for(let p=0;p<a.length;p+=1){var m;const v=a[p],f=i[v.id],w=(m=v==null?void 0:v.desc)!=null?m:!1;let C=0;if(f.sortUndefined){const y=u.getValue(v.id),S=g.getValue(v.id),x=y===void 0,A=S===void 0;(x||A)&&(C=x&&A?0:x?f.sortUndefined:-f.sortUndefined)}if(C===0&&(C=f.sortingFn(u,g,v.id)),C!==0)return w&&(C*=-1),f.invertSorting&&(C*=-1),C}return u.index-g.index}),d.forEach(u=>{var g;o.push(u),(g=u.subRows)!=null&&g.length&&(u.subRows=l(u.subRows))}),d};return{rows:l(t.rows),flatRows:o,rowsById:t.rowsById}},$(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function _t(e,n){return e?ca(e)?c.createElement(e,n):e:null}function ca(e){return da(e)||typeof e=="function"||ga(e)}function da(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function ga(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function fa(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=c.useState(()=>({current:aa(n)})),[r,o]=c.useState(()=>t.current.initialState);return t.current.setOptions(a=>({...a,...e,state:{...r,...e.state},onStateChange:i=>{o(i),e.onStateChange==null||e.onStateChange(i)}})),t.current}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function pa({data:e,isLoading:n,error:t}){var i;const[r,o]=c.useState([]),a=fa({data:e,columns:xt,getCoreRowModel:sa(),onSortingChange:o,getSortedRowModel:ua(),state:{sorting:r}});return h("div",{className:"h-full w-full rounded-md border p-1",children:R(fn,{className:"h-full w-full",children:[h(pn,{className:"sticky top-0 bg-white dark:bg-slate-900",children:a.getHeaderGroups().map(l=>h(Re,{children:l.headers.map(s=>h(mn,{colSpan:s.colSpan,style:{width:s.getSize()},children:s.isPlaceholder?null:_t(s.column.columnDef.header,s.getContext())},s.id))},l.id))}),h(hn,{className:"w-full",children:(i=a.getRowModel().rows)!=null&&i.length?a.getRowModel().rows.map(l=>h(Re,{"data-state":l.getIsSelected()&&"selected",children:l.getVisibleCells().map(s=>h(Xe,{style:{width:s.column.getSize()},children:_t(s.column.columnDef.cell,s.getContext())},s.id))},l.id)):h(Re,{children:h(Xe,{colSpan:xt.length,className:"h-[28rem] text-center",children:n?h(Fr,{}):t?"好像遇到错误啦！尝试刷新下":"暂无数据, 快去练习吧！"})})})]})})}const ha=e=>h("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:h("path",{fill:"currentColor",d:"M22 14h-1c0-3.87-3.13-7-7-7h-1V5.73A2 2 0 1 0 10 4c0 .74.4 1.39 1 1.73V7h-1c-3.87 0-7 3.13-7 7H2c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h1v1a2 2 0 0 0 2 2h14c1.11 0 2-.89 2-2v-1h1c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1M7.5 18A2.5 2.5 0 0 1 5 15.5c0-.82.4-1.54 1-2l3.83 2.88C9.5 17.32 8.57 18 7.5 18m9 0c-1.07 0-2-.68-2.33-1.62L18 13.5c.6.46 1 1.18 1 2a2.5 2.5 0 0 1-2.5 2.5"})});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function ma({errorData:e,dict:n}){const t=Tr(n.id),r=be(en),o=be(it),a=at(),i=be(tn),l=async()=>{o(n.id),i(-1);const d=await Nr(n.id,e);r({isReviewMode:!0,reviewRecord:d}),a("/")},s=()=>{o(n.id),i(-1),r({isReviewMode:!0,reviewRecord:t}),a("/")};return R("div",{className:"flex h-full flex-col items-center justify-around px-60",children:[R("div",{children:[h(ha,{fontSize:30,className:"text-indigo-300 "}),h("blockquote",{children:R("p",{className:"text-lg font-medium text-gray-600 dark:text-gray-300",children:["我们将使用您在该词典的历史练习数据、错误次数、练习时间来智能生成练习列表",h("br",{}),"目前该生成方式还处于实验阶段，我们会逐步完善该生成方式"]})})]}),R("div",{className:"flex w-full flex-col items-center",children:[t&&R(Yt,{children:[R("div",{className:" ml-10 flex w-full items-center py-0",children:[h(Qt,{value:t.index+1,max:t.words.length,className:"mr-4 h-2 w-full rounded-full border  border-indigo-400 bg-white",children:h(Jt,{className:"h-full rounded-full bg-indigo-400 pl-0",style:{width:`calc(${(t.index+1)/t.words.length*100}% )`}})}),R("span",{className:"p-0 text-xs",children:[t.index+1,"/",t.words.length]})]}),h("div",{className:"mt-1 text-sm font-normal text-gray-500",children:`( 创建于 ${Vr(t.createTime)} )`})]}),!t&&R("div",{children:["当前词典错词数: ",e.length]}),R("div",{className:"mt-6 flex gap-10",children:[t&&h(se,{size:"sm",onClick:s,children:"继续当前进度"}),R(se,{size:"sm",onClick:l,children:["开始",t&&"新的","复习"]})]})]})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function va(e){const{data:n,error:t,isLoading:r}=Dr(e==null?void 0:e.url,kr),[o,a]=c.useState([]);return c.useEffect(()=>{n&&ot.wordRecords.where("wrongCount").above(0).filter(i=>i.dict===e.id).toArray().then(i=>{const l=[];i.forEach(d=>{let u=l.find(g=>g.word===d.word);u||(u={word:d.word,records:[]},l.push(u)),u.records.push(d)});const s=[];l.forEach(d=>{const u={};d.records.forEach(p=>{for(const v in p.mistakes){const f=p.mistakes[v];f.length>0&&(u[v]=(u[v]??0)+f.length)}});const g=n.find(p=>p.name===d.word);if(!g)return;const m={word:d.word,originData:g,errorCount:d.records.reduce((p,v)=>(p+=v.wrongCount,p),0),errorLetters:u,errorChar:Object.entries(u).sort((p,v)=>v[1]-p[1]).map(([p])=>d.word[Number(p)]),latestErrorTime:d.records.reduce((p,v)=>(p=Math.max(p,v.timeStamp),p),0)};s.push(m)}),a(s)})},[e.id,n]),{errorWordData:o,isLoading:r,error:t}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const An=c.forwardRef(({className:e,children:n,...t},r)=>R(lt,{ref:r,className:I("relative overflow-hidden",e),...t,children:[h(nn,{className:"h-full w-full rounded-[inherit]",children:n}),h(En,{}),h(Gr,{})]}));An.displayName=lt.displayName;const En=c.forwardRef(({className:e,orientation:n="vertical",...t},r)=>h(rn,{ref:r,orientation:n,className:I("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:h(Or,{className:"relative flex-1 rounded-full bg-slate-200 dark:bg-slate-800"})}));En.displayName=rn.displayName;const _n="Tabs",[Ca,Rl]=st(_n,[Ie]),Pn=Ie(),[wa,ht]=Ca(_n),Sa=c.forwardRef((e,n)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:s="automatic",...d}=e,u=on(l),[g,m]=ce({prop:r,onChange:o,defaultProp:a});return c.createElement(wa,{scope:t,baseId:$e(),value:g,onValueChange:m,orientation:i,dir:u,activationMode:s},c.createElement(D.div,P({dir:u,"data-orientation":i},d,{ref:n})))}),ba="TabsList",$a=c.forwardRef((e,n)=>{const{__scopeTabs:t,loop:r=!0,...o}=e,a=ht(ba,t),i=Pn(t);return c.createElement(an,P({asChild:!0},i,{orientation:a.orientation,dir:a.dir,loop:r}),c.createElement(D.div,P({role:"tablist","aria-orientation":a.orientation},o,{ref:n})))}),Ra="TabsTrigger",xa=c.forwardRef((e,n)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...a}=e,i=ht(Ra,t),l=Pn(t),s=In(i.baseId,r),d=Mn(i.baseId,r),u=r===i.value;return c.createElement(ln,P({asChild:!0},l,{focusable:!o,active:u}),c.createElement(D.button,P({type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:s},a,{ref:n,onMouseDown:q(e.onMouseDown,g=>{!o&&g.button===0&&g.ctrlKey===!1?i.onValueChange(r):g.preventDefault()}),onKeyDown:q(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&i.onValueChange(r)}),onFocus:q(e.onFocus,()=>{const g=i.activationMode!=="manual";!u&&!o&&g&&i.onValueChange(r)})})))}),ya="TabsContent",Aa=c.forwardRef((e,n)=>{const{__scopeTabs:t,value:r,forceMount:o,children:a,...i}=e,l=ht(ya,t),s=In(l.baseId,r),d=Mn(l.baseId,r),u=r===l.value,g=c.useRef(u);return c.useEffect(()=>{const m=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(m)},[]),c.createElement(Me,{present:o||u},({present:m})=>c.createElement(D.div,P({"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":s,hidden:!m,id:d,tabIndex:0},i,{ref:n,style:{...e.style,animationDuration:g.current?"0s":void 0}}),m&&a))});function In(e,n){return`${e}-trigger-${n}`}function Mn(e,n){return`${e}-content-${n}`}const Ea=Sa,Fn=$a,Tn=xa,Vn=Aa;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const _a=Ea,Pa=c.forwardRef(({className:e,...n},t)=>h(Fn,{ref:t,className:I("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500 dark:bg-slate-800 dark:text-slate-400",e),...n}));Pa.displayName=Fn.displayName;const Ia=c.forwardRef(({className:e,...n},t)=>h(Tn,{ref:t,className:I("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",e),...n}));Ia.displayName=Tn.displayName;const xe=c.forwardRef(({className:e,...n},t)=>h(Vn,{ref:t,className:I("mt-2 focus:outline-none",e),...n}));xe.displayName=Vn.displayName;const Nn=c.forwardRef((e,n)=>{const{pressed:t,defaultPressed:r=!1,onPressedChange:o,...a}=e,[i=!1,l]=ce({prop:t,onChange:o,defaultProp:r});return c.createElement(D.button,P({type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0},a,{ref:n,onClick:q(e.onClick,()=>{e.disabled||l(!i)})}))}),Dn=Nn;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const kn=Xt("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors hover:bg-slate-100 hover:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-slate-100 data-[state=on]:text-slate-900 dark:ring-offset-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-400 dark:focus-visible:ring-slate-300 dark:data-[state=on]:bg-slate-800 dark:data-[state=on]:text-slate-50",{variants:{variant:{default:"bg-transparent",outline:"border border-slate-200 bg-transparent hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:hover:bg-slate-800 dark:hover:text-slate-50"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Ma=c.forwardRef(({className:e,variant:n,size:t,...r},o)=>h(Dn,{ref:o,className:I(kn({variant:n,size:t,className:e})),...r}));Ma.displayName=Dn.displayName;const Te="ToggleGroup",[Gn,xl]=st(Te,[Ie]),On=Ie(),Fa=_.forwardRef((e,n)=>{const{type:t,...r}=e;if(t==="single"){const o=r;return _.createElement(Ta,P({},o,{ref:n}))}if(t==="multiple"){const o=r;return _.createElement(Va,P({},o,{ref:n}))}throw new Error(`Missing prop \`type\` expected on \`${Te}\``)}),[Ln,Hn]=Gn(Te),Ta=_.forwardRef((e,n)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},...a}=e,[i,l]=ce({prop:t,defaultProp:r,onChange:o});return _.createElement(Ln,{scope:e.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:l,onItemDeactivate:_.useCallback(()=>l(""),[l])},_.createElement(zn,P({},a,{ref:n})))}),Va=_.forwardRef((e,n)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},...a}=e,[i=[],l]=ce({prop:t,defaultProp:r,onChange:o}),s=_.useCallback(u=>l((g=[])=>[...g,u]),[l]),d=_.useCallback(u=>l((g=[])=>g.filter(m=>m!==u)),[l]);return _.createElement(Ln,{scope:e.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:s,onItemDeactivate:d},_.createElement(zn,P({},a,{ref:n})))}),[Na,Da]=Gn(Te),zn=_.forwardRef((e,n)=>{const{__scopeToggleGroup:t,disabled:r=!1,rovingFocus:o=!0,orientation:a,dir:i,loop:l=!0,...s}=e,d=On(t),u=on(i),g={role:"group",dir:u,...s};return _.createElement(Na,{scope:t,rovingFocus:o,disabled:r},o?_.createElement(an,P({asChild:!0},d,{orientation:a,dir:u,loop:l}),_.createElement(D.div,P({},g,{ref:n}))):_.createElement(D.div,P({},g,{ref:n})))}),tt="ToggleGroupItem",ka=_.forwardRef((e,n)=>{const t=Hn(tt,e.__scopeToggleGroup),r=Da(tt,e.__scopeToggleGroup),o=On(e.__scopeToggleGroup),a=t.value.includes(e.value),i=r.disabled||e.disabled,l={...e,pressed:a,disabled:i},s=_.useRef(null);return r.rovingFocus?_.createElement(ln,P({asChild:!0},o,{focusable:!i,active:a,ref:s}),_.createElement(Pt,P({},l,{ref:n}))):_.createElement(Pt,P({},l,{ref:n}))}),Pt=_.forwardRef((e,n)=>{const{__scopeToggleGroup:t,value:r,...o}=e,a=Hn(tt,t),i={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?i:void 0;return _.createElement(Nn,P({},l,o,{ref:n,onPressedChange:s=>{s?a.onItemActivate(r):a.onItemDeactivate(r)}}))}),jn=Fa,Bn=ka;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const Un=c.createContext({size:"default",variant:"default"}),qn=c.forwardRef(({className:e,variant:n,size:t,children:r,...o},a)=>h(jn,{ref:a,className:I("flex items-center justify-center gap-1",e),...o,children:h(Un.Provider,{value:{variant:n,size:t},children:r})}));qn.displayName=jn.displayName;const ye=c.forwardRef(({className:e,children:n,variant:t,size:r,...o},a)=>{const i=c.useContext(Un);return h(Bn,{ref:a,className:I(kn({variant:i.variant||t,size:i.size||r}),"focus:outline-none",e),...o,children:n})});ye.displayName=Bn.displayName;const Ga=e=>h("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:h("path",{fill:"currentColor",d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-3 2v5l-1-.75L15 9V4zm3 12H8V4h5v9l3-2.25L19 13V4h1z"})}),Oa=Ga,La=e=>h("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...e,children:h("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v13c0 1-.6 3-3 3m0 0H6c-1 0-3-.6-3-3v-2h12v2c0 2.4 2 3 3 3M9 7h8m-8 4h4"})}),Ha=La,za=e=>h("svg",{viewBox:"0 0 16 16",width:"1.2em",height:"1.2em",...e,children:h("path",{fill:"currentColor",fillRule:"evenodd",d:"M9 2.5a1 1 0 1 1-2 0a1 1 0 0 1 2 0m1.45-.5a2.5 2.5 0 0 0-4.9 0H3a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zM8 5H5.5V3.5h-2v11h9v-11h-2V5zM5 7.75A.75.75 0 0 1 5.75 7h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 5 7.75m.75 1.75a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"})}),ja=za;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function Ba({dictionary:e}){const[n,t]=bt(tn),[r,o]=bt(it),[a,i]=c.useState("chapters"),l=be(en),s=at(),d=c.useMemo(()=>e.id===r?n:0,[n,r,e.id]),{errorWordData:u,isLoading:g,error:m}=va(e),p=c.useMemo(()=>yo(u),[u]),v=c.useCallback(f=>{o(e.id),t(f),l(w=>({...w,isReviewMode:!1})),s("/")},[e.id,s,t,o,l]);return R("div",{className:"flex flex-col rounded-[4rem] px-4 py-3 pl-5 text-gray-800 dark:text-gray-300",children:[R("div",{className:"text relative flex h-40 flex-col gap-2",children:[h("h3",{className:"text-2xl font-semibold",children:e.name}),R("p",{className:"mt-1",children:[e.chapterCount," 章节"]}),R("p",{children:["共 ",e.length," 词"]}),h("p",{children:e.description}),h("div",{className:"absolute bottom-5 right-4",children:R(qn,{type:"single",value:a,onValueChange:f=>{i(f)},children:[R(ye,{value:"chapters",children:[h(Ha,{className:"mr-1.5 text-gray-500"}),"章节选择"]}),u.length>0&&R(Yt,{children:[R(ye,{value:"errors",children:[h(Oa,{className:"mr-1.5 text-gray-500"}),"查看错题"]}),R(ye,{value:"review",children:[h(ja,{className:"mr-1.5 text-gray-500"}),"错题回顾"]})]})]})})]}),h("div",{className:"flex pl-0",children:R(_a,{value:a,className:"h-[30rem] w-full ",children:[h(xe,{value:"chapters",className:"h-full ",children:h(An,{className:"h-[30rem] ",children:h("div",{className:"flex w-full flex-wrap gap-3",children:Lr(0,e.chapterCount,1).map(f=>h(Ro,{index:f,checked:d===f,dictID:e.id,onChange:v},`${e.id}-${f}`))})})}),h(xe,{value:"errors",className:"h-full",children:h(pa,{data:p,isLoading:g,error:m})}),h(xe,{value:"review",className:"h-full",children:h(ma,{errorData:u,dict:e})})]})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function Ua(e,n){const[t,r]=c.useState(null);return c.useEffect(()=>{n&&!t&&(async()=>{const a=await qa(e);r(a)})()},[e,n]),t}async function qa(e){return{exercisedChapterCount:(await ot.chapterRecords.where({dict:e}).toArray()).map(({chapter:a})=>a).filter(a=>a!==null).filter((a,i,l)=>l.indexOf(a)===i).length}}const Wa=""+new URL("book-cover-c875e761.png",import.meta.url).href,je="focusScope.autoFocusOnMount",Be="focusScope.autoFocusOnUnmount",It={bubbles:!1,cancelable:!0},Za=c.forwardRef((e,n)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[l,s]=c.useState(null),d=$t(o),u=$t(a),g=c.useRef(null),m=Fe(n,f=>s(f)),p=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let f=function(S){if(p.paused||!l)return;const x=S.target;l.contains(x)?g.current=x:Z(g.current,{select:!0})},w=function(S){if(p.paused||!l)return;const x=S.relatedTarget;x!==null&&(l.contains(x)||Z(g.current,{select:!0}))},C=function(S){if(document.activeElement===document.body)for(const A of S)A.removedNodes.length>0&&Z(l)};document.addEventListener("focusin",f),document.addEventListener("focusout",w);const y=new MutationObserver(C);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",w),y.disconnect()}}},[r,l,p.paused]),c.useEffect(()=>{if(l){Ft.add(p);const f=document.activeElement;if(!l.contains(f)){const C=new CustomEvent(je,It);l.addEventListener(je,d),l.dispatchEvent(C),C.defaultPrevented||(Xa(ei(Wn(l)),{select:!0}),document.activeElement===f&&Z(l))}return()=>{l.removeEventListener(je,d),setTimeout(()=>{const C=new CustomEvent(Be,It);l.addEventListener(Be,u),l.dispatchEvent(C),C.defaultPrevented||Z(f??document.body,{select:!0}),l.removeEventListener(Be,u),Ft.remove(p)},0)}}},[l,d,u,p]);const v=c.useCallback(f=>{if(!t&&!r||p.paused)return;const w=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,C=document.activeElement;if(w&&C){const y=f.currentTarget,[S,x]=Ka(y);S&&x?!f.shiftKey&&C===x?(f.preventDefault(),t&&Z(S,{select:!0})):f.shiftKey&&C===S&&(f.preventDefault(),t&&Z(x,{select:!0})):C===y&&f.preventDefault()}},[t,r,p.paused]);return c.createElement(D.div,P({tabIndex:-1},i,{ref:m,onKeyDown:v}))});function Xa(e,{select:n=!1}={}){const t=document.activeElement;for(const r of e)if(Z(r,{select:n}),document.activeElement!==t)return}function Ka(e){const n=Wn(e),t=Mt(n,e),r=Mt(n.reverse(),e);return[t,r]}function Wn(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function Mt(e,n){for(const t of e)if(!Ya(t,{upTo:n}))return t}function Ya(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qa(e){return e instanceof HTMLInputElement&&"select"in e}function Z(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Qa(e)&&n&&e.select()}}const Ft=Ja();function Ja(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=Tt(e,n),e.unshift(n)},remove(n){var t;e=Tt(e,n),(t=e[0])===null||t===void 0||t.resume()}}}function Tt(e,n){const t=[...e],r=t.indexOf(n);return r!==-1&&t.splice(r,1),t}function ei(e){return e.filter(n=>n.tagName!=="A")}let Ue=0;function ti(){c.useEffect(()=>{var e,n;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=t[0])!==null&&e!==void 0?e:Vt()),document.body.insertAdjacentElement("beforeend",(n=t[1])!==null&&n!==void 0?n:Vt()),Ue++,()=>{Ue===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Ue--}},[])}function Vt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var B=function(){return B=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},B.apply(this,arguments)};function Zn(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function ni(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,a;r<o;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var Ae="right-scroll-bar-position",Ee="width-before-scroll-bar",ri="with-scroll-bars-hidden",oi="--removed-body-scroll-bar-size";function qe(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function ai(e,n){var t=c.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=n,t.facade}var Nt=new WeakMap;function ii(e,n){var t=ai(n||null,function(r){return e.forEach(function(o){return qe(o,r)})});return c.useLayoutEffect(function(){var r=Nt.get(t);if(r){var o=new Set(r),a=new Set(e),i=t.current;o.forEach(function(l){a.has(l)||qe(l,null)}),a.forEach(function(l){o.has(l)||qe(l,i)})}Nt.set(t,e)},[e]),t}function li(e){return e}function si(e,n){n===void 0&&(n=li);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(a){var i=n(a,r);return t.push(i),function(){t=t.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;t.length;){var i=t;t=[],i.forEach(a)}t={push:function(l){return a(l)},filter:function(){return t}}},assignMedium:function(a){r=!0;var i=[];if(t.length){var l=t;t=[],l.forEach(a),i=t}var s=function(){var u=i;i=[],u.forEach(a)},d=function(){return Promise.resolve().then(s)};d(),t={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),t}}}};return o}function ui(e){e===void 0&&(e={});var n=si(null);return n.options=B({async:!0,ssr:!1},e),n}var Xn=function(e){var n=e.sideCar,t=Zn(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,B({},t))};Xn.isSideCarExport=!0;function ci(e,n){return e.useMedium(n),Xn}var Kn=ui(),We=function(){},Ve=c.forwardRef(function(e,n){var t=c.useRef(null),r=c.useState({onScrollCapture:We,onWheelCapture:We,onTouchMoveCapture:We}),o=r[0],a=r[1],i=e.forwardProps,l=e.children,s=e.className,d=e.removeScrollBar,u=e.enabled,g=e.shards,m=e.sideCar,p=e.noIsolation,v=e.inert,f=e.allowPinchZoom,w=e.as,C=w===void 0?"div":w,y=Zn(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),S=m,x=ii([t,n]),A=B(B({},y),o);return c.createElement(c.Fragment,null,u&&c.createElement(S,{sideCar:Kn,removeScrollBar:d,shards:g,noIsolation:p,inert:v,setCallbacks:a,allowPinchZoom:!!f,lockRef:t}),i?c.cloneElement(c.Children.only(l),B(B({},A),{ref:x})):c.createElement(C,B({},A,{className:s,ref:x}),l))});Ve.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ve.classNames={fullWidth:Ee,zeroRight:Ae};var Dt,di=function(){if(Dt)return Dt;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gi(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=di();return n&&e.setAttribute("nonce",n),e}function fi(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function pi(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var hi=function(){var e=0,n=null;return{add:function(t){e==0&&(n=gi())&&(fi(n,t),pi(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},mi=function(){var e=hi();return function(n,t){c.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},Yn=function(){var e=mi(),n=function(t){var r=t.styles,o=t.dynamic;return e(r,o),null};return n},vi={left:0,top:0,right:0,gap:0},Ze=function(e){return parseInt(e||"",10)||0},Ci=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[Ze(t),Ze(r),Ze(o)]},wi=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vi;var n=Ci(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-t+n[2]-n[0])}},Si=Yn(),oe="data-scroll-locked",bi=function(e,n,t,r){var o=e.left,a=e.top,i=e.right,l=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(ri,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(oe,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ae,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ee,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ae," .").concat(Ae,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ee," .").concat(Ee,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(oe,`] {
    `).concat(oi,": ").concat(l,`px;
  }
`)},kt=function(){var e=parseInt(document.body.getAttribute(oe)||"0",10);return isFinite(e)?e:0},$i=function(){c.useEffect(function(){return document.body.setAttribute(oe,(kt()+1).toString()),function(){var e=kt()-1;e<=0?document.body.removeAttribute(oe):document.body.setAttribute(oe,e.toString())}},[])},Ri=function(e){var n=e.noRelative,t=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;$i();var a=c.useMemo(function(){return wi(o)},[o]);return c.createElement(Si,{styles:bi(a,!n,o,t?"":"!important")})},nt=!1;if(typeof window<"u")try{var we=Object.defineProperty({},"passive",{get:function(){return nt=!0,!0}});window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{nt=!1}var ne=nt?{passive:!1}:!1,xi=function(e){return e.tagName==="TEXTAREA"},Qn=function(e,n){var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!xi(e)&&t[n]==="visible")},yi=function(e){return Qn(e,"overflowY")},Ai=function(e){return Qn(e,"overflowX")},Gt=function(e,n){var t=n;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var r=Jn(e,t);if(r){var o=er(e,t),a=o[1],i=o[2];if(a>i)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},Ei=function(e){var n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[n,t,r]},_i=function(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[n,t,r]},Jn=function(e,n){return e==="v"?yi(n):Ai(n)},er=function(e,n){return e==="v"?Ei(n):_i(n)},Pi=function(e,n){return e==="h"&&n==="rtl"?-1:1},Ii=function(e,n,t,r,o){var a=Pi(e,window.getComputedStyle(n).direction),i=a*r,l=t.target,s=n.contains(l),d=!1,u=i>0,g=0,m=0;do{var p=er(e,l),v=p[0],f=p[1],w=p[2],C=f-w-a*v;(v||C)&&Jn(e,l)&&(g+=C,m+=v),l=l.parentNode}while(!s&&l!==document.body||s&&(n.contains(l)||n===l));return(u&&(o&&g===0||!o&&i>g)||!u&&(o&&m===0||!o&&-i>m))&&(d=!0),d},Se=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ot=function(e){return[e.deltaX,e.deltaY]},Lt=function(e){return e&&"current"in e?e.current:e},Mi=function(e,n){return e[0]===n[0]&&e[1]===n[1]},Fi=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ti=0,re=[];function Vi(e){var n=c.useRef([]),t=c.useRef([0,0]),r=c.useRef(),o=c.useState(Ti++)[0],a=c.useState(function(){return Yn()})[0],i=c.useRef(e);c.useEffect(function(){i.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var f=ni([e.lockRef.current],(e.shards||[]).map(Lt),!0).filter(Boolean);return f.forEach(function(w){return w.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),f.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=c.useCallback(function(f,w){if("touches"in f&&f.touches.length===2)return!i.current.allowPinchZoom;var C=Se(f),y=t.current,S="deltaX"in f?f.deltaX:y[0]-C[0],x="deltaY"in f?f.deltaY:y[1]-C[1],A,M=f.target,k=Math.abs(S)>Math.abs(x)?"h":"v";if("touches"in f&&k==="h"&&M.type==="range")return!1;var F=Gt(k,M);if(!F)return!0;if(F?A=k:(A=k==="v"?"h":"v",F=Gt(k,M)),!F)return!1;if(!r.current&&"changedTouches"in f&&(S||x)&&(r.current=A),!A)return!0;var L=r.current||A;return Ii(L,w,f,L==="h"?S:x,!0)},[]),s=c.useCallback(function(f){var w=f;if(!(!re.length||re[re.length-1]!==a)){var C="deltaY"in w?Ot(w):Se(w),y=n.current.filter(function(A){return A.name===w.type&&A.target===w.target&&Mi(A.delta,C)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var S=(i.current.shards||[]).map(Lt).filter(Boolean).filter(function(A){return A.contains(w.target)}),x=S.length>0?l(w,S[0]):!i.current.noIsolation;x&&w.cancelable&&w.preventDefault()}}},[]),d=c.useCallback(function(f,w,C,y){var S={name:f,delta:w,target:C,should:y};n.current.push(S),setTimeout(function(){n.current=n.current.filter(function(x){return x!==S})},1)},[]),u=c.useCallback(function(f){t.current=Se(f),r.current=void 0},[]),g=c.useCallback(function(f){d(f.type,Ot(f),f.target,l(f,e.lockRef.current))},[]),m=c.useCallback(function(f){d(f.type,Se(f),f.target,l(f,e.lockRef.current))},[]);c.useEffect(function(){return re.push(a),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:m}),document.addEventListener("wheel",s,ne),document.addEventListener("touchmove",s,ne),document.addEventListener("touchstart",u,ne),function(){re=re.filter(function(f){return f!==a}),document.removeEventListener("wheel",s,ne),document.removeEventListener("touchmove",s,ne),document.removeEventListener("touchstart",u,ne)}},[]);var p=e.removeScrollBar,v=e.inert;return c.createElement(c.Fragment,null,v?c.createElement(a,{styles:Fi(o)}):null,p?c.createElement(Ri,{gapMode:"margin"}):null)}const Ni=ci(Kn,Vi);var tr=c.forwardRef(function(e,n){return c.createElement(Ve,B({},e,{ref:n,sideCar:Ni}))});tr.classNames=Ve.classNames;const Di=tr,nr="Dialog",[rr,yl]=st(nr),[ki,j]=rr(nr),Gi=e=>{const{__scopeDialog:n,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=c.useRef(null),s=c.useRef(null),[d=!1,u]=ce({prop:r,defaultProp:o,onChange:a});return c.createElement(ki,{scope:n,triggerRef:l,contentRef:s,contentId:$e(),titleId:$e(),descriptionId:$e(),open:d,onOpenChange:u,onOpenToggle:c.useCallback(()=>u(g=>!g),[u]),modal:i},t)},Oi="DialogTrigger",Li=c.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=j(Oi,t),a=Fe(n,o.triggerRef);return c.createElement(D.button,P({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":mt(o.open)},r,{ref:a,onClick:q(e.onClick,o.onOpenToggle)}))}),or="DialogPortal",[Hi,ar]=rr(or,{forceMount:void 0}),zi=e=>{const{__scopeDialog:n,forceMount:t,children:r,container:o}=e,a=j(or,n);return c.createElement(Hi,{scope:n,forceMount:t},c.Children.map(r,i=>c.createElement(Me,{present:t||a.open},c.createElement(fo,{asChild:!0,container:o},i))))},rt="DialogOverlay",ji=c.forwardRef((e,n)=>{const t=ar(rt,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=j(rt,e.__scopeDialog);return a.modal?c.createElement(Me,{present:r||a.open},c.createElement(Bi,P({},o,{ref:n}))):null}),Bi=c.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=j(rt,t);return c.createElement(Di,{as:Kt,allowPinchZoom:!0,shards:[o.contentRef]},c.createElement(D.div,P({"data-state":mt(o.open)},r,{ref:n,style:{pointerEvents:"auto",...r.style}})))}),ue="DialogContent",Ui=c.forwardRef((e,n)=>{const t=ar(ue,e.__scopeDialog),{forceMount:r=t.forceMount,...o}=e,a=j(ue,e.__scopeDialog);return c.createElement(Me,{present:r||a.open},a.modal?c.createElement(qi,P({},o,{ref:n})):c.createElement(Wi,P({},o,{ref:n})))}),qi=c.forwardRef((e,n)=>{const t=j(ue,e.__scopeDialog),r=c.useRef(null),o=Fe(n,t.contentRef,r);return c.useEffect(()=>{const a=r.current;if(a)return vo(a)},[]),c.createElement(ir,P({},e,{ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=t.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:q(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:q(e.onFocusOutside,a=>a.preventDefault())}))}),Wi=c.forwardRef((e,n)=>{const t=j(ue,e.__scopeDialog),r=c.useRef(!1),o=c.useRef(!1);return c.createElement(ir,P({},e,{ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,a),!a.defaultPrevented){var l;r.current||(l=t.triggerRef.current)===null||l===void 0||l.focus(),a.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:a=>{var i,l;(i=e.onInteractOutside)===null||i===void 0||i.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((l=t.triggerRef.current)===null||l===void 0?void 0:l.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}}))}),ir=c.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,l=j(ue,t),s=c.useRef(null),d=Fe(n,s);return ti(),c.createElement(c.Fragment,null,c.createElement(Za,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a},c.createElement(Hr,P({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":mt(l.open)},i,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),Zi="DialogTitle",Xi=c.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=j(Zi,t);return c.createElement(D.h2,P({id:o.titleId},r,{ref:n}))}),Ki="DialogDescription",Yi=c.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=j(Ki,t);return c.createElement(D.p,P({id:o.descriptionId},r,{ref:n}))}),Qi="DialogClose",Ji=c.forwardRef((e,n)=>{const{__scopeDialog:t,...r}=e,o=j(Qi,t);return c.createElement(D.button,P({type:"button"},r,{ref:n,onClick:q(e.onClick,()=>o.onOpenChange(!1))}))});function mt(e){return e?"open":"closed"}const el=Gi,tl=Li,nl=zi,lr=ji,sr=Ui,ur=Xi,cr=Yi,rl=Ji;/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ol={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),il=(e,n)=>{const t=c.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:s,...d},u)=>c.createElement("svg",{ref:u,...ol,width:o,height:o,stroke:r,strokeWidth:i?Number(a)*24/Number(o):a,className:["lucide",`lucide-${al(e)}`,l].join(" "),...d},[...n.map(([g,m])=>c.createElement(g,m)),...Array.isArray(s)?s:[s]]));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=il("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const sl=el,ul=tl,cl=nl,dr=c.forwardRef(({className:e,...n},t)=>h(lr,{ref:t,className:I("fixed inset-0 z-50 bg-white/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 dark:bg-slate-950/80",e),...n}));dr.displayName=lr.displayName;const gr=c.forwardRef(({className:e,children:n,...t},r)=>R(cl,{children:[h(dr,{}),R(sr,{ref:r,className:I("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 focus:outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-slate-800 dark:bg-slate-950 sm:rounded-lg",e),...t,children:[n,R(rl,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[h(ll,{className:"h-4 w-4"}),h("span",{className:"sr-only",children:"Close"})]})]})]}));gr.displayName=sr.displayName;const dl=c.forwardRef(({className:e,...n},t)=>h(ur,{ref:t,className:I("text-lg font-semibold leading-none tracking-tight",e),...n}));dl.displayName=ur.displayName;const gl=c.forwardRef(({className:e,...n},t)=>h(cr,{ref:t,className:I("text-sm text-slate-500 dark:text-slate-400",e),...n}));gl.displayName=cr.displayName;globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function fl({dictionary:e}){const n=ut(it),t=c.useRef(null),r=gn(t,{}),o=!!(r!=null&&r.isIntersecting),a=Ua(e.id,o),i=c.useMemo(()=>zr(e.length),[e.length]),l=n===e.id,s=c.useMemo(()=>a?Math.ceil(a.exercisedChapterCount/i*100):0,[a,i]);return R(sl,{children:[h(ul,{asChild:!0,children:h("div",{ref:t,className:`group flex  h-36 w-80 cursor-pointer items-center justify-center overflow-hidden rounded-lg p-4 text-left shadow-lg focus:outline-none ${l?"bg-indigo-400":"bg-zinc-50 hover:bg-white dark:bg-gray-800 dark:hover:bg-gray-700"}`,role:"button",children:R("div",{className:"relative ml-1 mt-2 flex h-full w-full flex-col items-start justify-start",children:[h("h1",{className:`mb-1.5 text-xl font-normal  ${l?"text-white":"text-gray-800 group-hover:text-indigo-400 dark:text-gray-200"}`,children:e.name}),h(jr,{children:R(Br,{delayDuration:400,children:[h(Ur,{asChild:!0,children:h("p",{className:`mb-1 max-w-full truncate ${l?"text-white":"textdelayDuration-gray-600 dark:text-gray-200"} whitespace-nowrap`,children:e.description})}),h(qr,{children:h("p",{children:`${e.description}`})})]})}),R("p",{className:`mb-0.5 font-bold  ${l?"text-white":"text-gray-600 dark:text-gray-200"}`,children:[e.length," 词"]}),R("div",{className:" flex w-full items-center pt-2",children:[s>0&&h(Qt,{value:s,max:100,className:`mr-4 h-2 w-full rounded-full border  bg-white ${l?"border-indigo-600":"border-indigo-400"}`,children:h(Jt,{className:`h-full rounded-full pl-0 ${l?"bg-indigo-600":"bg-indigo-400"}`,style:{width:`calc(${s}% )`}})}),h("img",{src:Wa,className:`absolute right-3 top-3 w-16 ${l?"opacity-50":"opacity-20"}`})]})]})})}),h(gr,{className:"w-[60rem] max-w-none !rounded-[20px]",children:h(Ba,{dictionary:e})})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function pl({groupedDictsByTag:e}){const n=c.useMemo(()=>Object.keys(e),[e]),[t,r]=c.useState(n[0]),o=ut(sn),a=c.useCallback(i=>{r(i)},[]);return c.useEffect(()=>{const i=Wr(n,o.tags);i.length>0&&r(i[0])},[o.tags,n]),R("div",{children:[h(Co,{tagList:n,currentTag:t,onChangeCurrentTag:a}),h("div",{className:"mt-8 grid gap-x-5 gap-y-10 px-1 pb-4 sm:grid-cols-1 md:grid-cols-2 dic3:grid-cols-3 dic4:grid-cols-4",children:e[t].map(i=>h(fl,{dictionary:i},i.id))})]})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function hl(){const[e,n]=c.useState(!1);c.useCallback(()=>{n(!0)},[]),c.useCallback(()=>{n(!1)},[])}const ml="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAARGVYSWZNTQAqAAAACAABh2kABAAAAAEAAAAaAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAAmoAMABAAAAAEAAAAmAAAAAITyIFsAAAGbaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjM4PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjM4PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Cl+r3MQAAAqaSURBVFjDvZhrbFzHdcd/Z2bu7vIlihKpB00pkmxJhl5+NUqdWtWjRpq4qR9tpNRAYSBu4RQJCgQOghToh66KwkU/uAZq1GmKIq4LNLbFpGjgNHEejijbQmsxahLXtOTYEkmRFClSFEUuyb27986cfri7FOWEtuQGveTBLGdn5vznf87851wKH/BRReg+aOjYLidb1sodtf6TnOSOUqcy0acc7A4iKP9fz9Gj+9w1b+DoPqeKXK8PuX6mikakGADmX2C3tH18J/kNa4xtyKGipJfKxH0D1dHe11v+gFNXNoPbv5/0Vw5Mjxy0AHKo21/+Dp9qXP9Xf26XbbnVtK2BqBHEZANDCpV50qnz1TDd94a/9Nzzc71nvtLxZUp6dJ+T/T3prwyYHjlo5VC3Bxjr5gurP/IPT9DxG2g5VQheNSAimjGqgogYYy0uQPw28dnvDjD+zMMNn+SoatGJFN8XnLlWUKVvs2PqxVteSDxPVH0bGqeJ+nnUVx0hceqTSH01IlSdprH11TkNcdUH1lULGx/Y4DZ86Uel7/FpkWKqP34k+j8xpkewcghf+gbbo61/+Z/5jq6Wvn9/WDu2/gntWz8m3gtiIsQ40ICqB/WoZgdRxIAGQnUytXrZpZdPkow8u7flPl6ur33dwFSR+lGPex96JX/jfXf56fH49LGnC5dHT3Dr/odwLRtRLGJzCIJqqAHzNaCKhgTSWdTPJo0NGs1Nnnm71PPKrZ1F5hf7uA5gB61It49/yN35Gx79QRyWe0ku2PM/P8GzT/ey/+7VbLt1B7mmFSgOFYsRQUMF9XPgq3gfQGzNkyJGk5ZGjaZHz3xu+ScHvvJeh2HpHOuZEADvdh3AzePnRzSdG8GGcTrWNPPDH0zzo2/3MH72Z6Sls1A+g589TTpzCj97Bl8eIp0bIMTDkE7h4ylCPCVUpgiSuxeAYz3h+pN/X0dGcXDbKU+i8Xn8/Dk0pNy2q4H7H1jBpVIzL/zbGV59qY/+0wNMT0yQVsoQAs5C8ML89BziS2gyQ3VuysTzc/gQNn/1d2mUImEp8X2PUKqIHJbL3zvSu2xZ2+0zpbInmbHDI7OcP1/hzo+uIPUwNpYwMhIzPVVF00Aubyg0WJavcLSviBgZLnPjjU3kGiI0hGCNmjhm5uyZ6Z13/dnUOS1ipEi4VsYk06WiTSuVQhpPIr7EK8cvUS57fv3ONsRacoWIm7Y0s2dvOx+7ZzW/efcqdt3RxrqNTSSpMDxSoZLC8eOTnHmnhDVZEHxQKqWyfBAd0xrFSZL4aUNC/8Asq1dbbJTjJ69XOfHjEqfeihEXYSJLoTHH8pUFutY3sW59MzaXw0aOKJej0NTIT382w8x0Qi4yVKvp5b7/jqcADl+3XNR0ZvjI+udWLjOffq13Kr39w+1uNk6JCvMsb+3A5Sxo/T7XTB5UUAXCHN5bLl6coblg6TsVmJ4s+X172uw7A/HJnZ+98GvZLET4RclYOvk7MtDlOf9fIyMxK1Y20tw4w7LlbYzM7ufZ7zby05+3oRjAA4KIwRgwxnN2fDPPf7+JgZnbMflOtm+9iJDX6akKcdm/vLB5frmOLQms51jWuigdnZtXmprKUk7XMsCnePGNAq8OrWL3F6cYi+8EqdSYMiBlRubv5LnXVvLyYAefe3KE0dzvoWYbba2XzaVpZXV77kWAnjeXjtjSjO3NmpUro2p7RwOSXhbbfDtdm3fxVPFf+Menv8OjN/8Pbs3Hwe1A9BIQg9lEfv19PPnYN/mnZ17knuafsGr9VqK23ZAmJkiBdV12CmDftqWLyCWBTUxkk8pz1TNKnLqGTiOzz2tr+hb/cexxvn74t/jTxx6no3ECrb4Npg2RApr201EY5aVjf83XD9/N5x/7G1r9WczM86G1fTWFfGVyPi4PA3CQ6xfYjo6jApBbec85pXDRiSNJOjWc+xI72np48NCHuKG5F4Y+gxiDRu1otAIxDejgH7Oz41UePLieGxqOE849SqXSqi3NBfL5huHG354YU1XT3X3ELHUAr6kee/urPJGL+MLyDtKmZY0O5rH1wiXagI8HsCsPgUTo5L8i+Y2Q9EPIjl3QJqYuzvnpSWxQvrj5Ef72A5U9qmoHBwe3JHNzhfZN26be+Nbj96QXXvv77VtcaGw2RpzFOgsC1ipjQxWqKVgj5PNK+5o8IQiookHxSapTl7z0vp6w9pZPPLjxrj/snR4/0yKSS2666aa3RCR9T2DFYtEVi8X0yaeeure5qeVbztmqIMYajIIx1mBEECM1eRAkK5GoJlkeOwdGMoUOWtO2EAghZNUGhKASQgjeGJOvxpXPPPLIH/1z3fd75tjY6Pim0bExBgYG7eC5ITc4dN4Mj4wxNDzG0PAFhoYvMDyS2dDIBUZGLzA5OcHk5Dijo+O1MbXxQ2MMDo0yODTK0PAo/YPDpn9gwPX399tzQ8MMjgzdds3JLyJlay3OOY0ipy6y6pzBWUMUGSKXmbNZa43BGMGIwdb6nLNEzuKcIVr4bMlFkUbOEeVyGjmHFSldOzAjpRAUBQkhSPBBQshCFrwSQmbZFUStzUIXQsjaehh/YUwQVdAQJKiiyPg1AwtBSyEEVFV0QQI1uw9Rar8LzmqleHbr1frRrK8+q77Cwr1aHwcz7wts27ZtCmBUZkLwtagu+F5YWGteFwMTEZIkWTQug1RDkAGvz8lOnWgIiOj0+wLr7l74eNlnR0h0UeXAu0JTf+I4ZnpmhjWrV5Gm6aIQ6ru3s7BDVYz3HhW5tJiUXwps+/Y3FaCiEqNUhEWbvkJ9FlDNCpa4UqGrq4vff+B+9u7Zw7quLipxXKOaRRu5QiLZm5H4EDQEM5eR0v3+Obah89S4omUQdNHKCyxoXQSF+fl5btm5g61bNtPZuZZcLkfqPXpVjVYP4aLwioCGcltzeSIjZfvSjPX1bROAZ47c+1CSNKxQUq2HcyHPVNHaO2PQQOQizvb3k6aZNi5f3kqa+lq43pX2C32Kqif1UeMrJ7puBujpuRrLgvIfPHjEdncf8rt2f+2Al/Uv/c6BN2ltnVHVnBgjWGMypZdaa+qqr6RpyqpVq3DOcvHiJEmSYq3JJCOETF40U/9Q+1sk9eVyi33h+2vPnzt9+pZSqXgRigay/yTVUUp39yGfvSgUHjO2naBRqjXNqcvBld1ecaIK1jrOj40xODRMkqaIEXwIaO37bAdXm2qwaSqJp7Nz1YfWfBlg374rrJkaWwZg54f/bq8xTR/xQUKSRJZ6ubQQvkVCGQI+BIIGFCWfy1HI5xGRGuBaGBfdxlr/UUA9PuRs6h1Iw0O7d39+ZU9PMQWVBWATEx3ZW3dauNe6ZYRg0iQxoBo0aO0ha4LWfdYOqmoIQb336r3XEIIuVmMNqhrCwkI1XAoaksSJ4hLrVqy6NL/pExlrh+0CsJ6e/SmA1+iAsY1UU80pkThnjHVOrHPinK2ZE+ecRAsWSRQtMhdlY6wTa+2COZvNW7SWEclLUBdZ10rQhvszLH8RakSrgOjWrQ+3aGHP8Xxh/brZSmvltpsHZMumExJCDmMyZa8rvIhZdHrk6nAtuiaUcLVc1MwHsGaeofMf1d6+G4OTicZKfO4NV/nsgXfeoQIq/wuSg2/rAVJ4OAAAAABJRU5ErkJggg==";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const vl=[{id:"code",name:"Code",flag:ml}];function Cl(){const{state:e,setState:n}=c.useContext(fr),t=c.useCallback(r=>{n(o=>{o.currentLanguageTab=r})},[n]);return h(_e,{value:e.currentLanguageTab,onChange:t,children:h("div",{className:"flex items-center space-x-4",children:vl.map(r=>h(_e.Option,{value:r.id,className:"cursor-pointer",children:({checked:o})=>R("div",{className:`flex items-center border-b-2 px-2 pb-1 ${o?"border-indigo-500":"border-transparent"}`,children:[h("img",{src:r.flag,className:"mr-1.5 h-7 w-7"}),h("p",{className:"text-lg font-medium text-gray-700 dark:text-gray-200",children:r.name})]})},r.id))})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};function wl(e,n){return e.reduce((t,r)=>{const o=n(r);return Object.prototype.hasOwnProperty.call(t,o)?t[o].push(r):t[o]=[r],t},{})}function Sl(e){return e.reduce((n,t)=>(t.tags.forEach(r=>{Object.prototype.hasOwnProperty.call(n,r)?n[r].push(t):n[r]=[t]}),n),{})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,n){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,n),n)}};const bl={currentLanguageTab:"en"},fr=c.createContext(null);function Al(){const[e,n]=Zr(bl),t=at(),r=ut(sn),{groupedByCategoryAndTag:o}=c.useMemo(()=>{const i=Xr.filter(d=>d.languageCategory===e.currentLanguageTab);return{groupedByCategoryAndTag:Object.entries(wl(i,d=>d.category)).map(([d,u])=>[d,Sl(u)])}},[e.currentLanguageTab]),a=c.useCallback(()=>{t("/")},[t]);return Kr("enter,esc",a,{preventDefault:!0}),c.useEffect(()=>{r&&n(i=>{i.currentLanguageTab=r.languageCategory})},[r,n]),h(Yr,{children:h(fr.Provider,{value:{state:e,setState:n},children:R("div",{className:"relative mb-auto mt-auto flex w-full flex-1 flex-col overflow-y-auto pl-20",children:[h(Qr,{className:"absolute right-20 top-10 mr-2 h-7 w-7 cursor-pointer text-gray-400",onClick:a}),h("div",{className:"mt-20 flex w-full flex-1 flex-col items-center justify-center overflow-y-auto",children:R("div",{className:"flex h-full flex-col overflow-y-auto",children:[R("div",{className:"flex h-20 w-full items-center justify-between pb-6",children:[h(Cl,{}),h(hl,{})]}),R(lt,{className:"flex-1 overflow-y-auto",children:[R(nn,{className:"h-full w-full ",children:[h("div",{className:"mr-4 flex flex-1 flex-col items-start justify-start gap-14 overflow-y-auto",children:o.map(([i,l])=>h(pl,{groupedDictsByTag:l},i))}),R("div",{className:"flex items-center justify-center pb-10 pt-[20rem] text-gray-500",children:[h(Jr,{className:"mr-1 h-5 w-5"}),h("p",{className:"mr-5 w-10/12 text-xs",children:"本项目的词典数据来自多个开源项目以及社区贡献者的无偿提供。我们深感感激并尊重每一位贡献者的知识产权。 这些数据仅供个人学习和研究使用，严禁用于任何商业目的。如果你是数据的版权所有者，并且认为我们的使用方式侵犯了你的权利，请通过网站底部的电子邮件与我们联系。一旦收到有效的版权投诉，我们将在最短的时间内删除相关内容或寻求必要的许可。 同时，我们也鼓励所有使用这些数据的人尊重版权所有者的权利，并且在使用这些数据时遵守所有相关的法律和规定。 请注意，虽然我们尽力确保所有数据的合法性和准确性，但我们不能对任何数据的准确性、完整性、合法性或可靠性做出任何保证。使用这些数据的风险完全由用户自己承担。"})]})]}),h(eo,{className:"flex touch-none select-none bg-transparent ",orientation:"vertical"})]})]})})]})})})}export{fr as GalleryContext,Al as default};
